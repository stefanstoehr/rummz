<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>P5</title>
		<style>
			body { margin: 0; }
		</style>
	</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/delaunator@5.0.0/delaunator.min.js"></script> -->
    <script>

        let camera, controls, scene, renderer;

        init();

        function init() {

            scene = new THREE.Scene();
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setPixelRatio( window.devicePixelRatio );
            renderer.setSize( window.innerWidth, window.innerHeight );
            renderer.setAnimationLoop( animate );
            document.body.appendChild( renderer.domElement );

            camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
            camera.position.set( 0, 0, 0 );
            const axesHelper = new THREE.AxesHelper( 5 ); scene.add( axesHelper );
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            
            // die x- und y-Punkte kommen dann von den Markern
            const points = [];
            points.push( new THREE.Vector2( - 10, 0 ) );
            points.push( new THREE.Vector2( 0, -10 ) );
            points.push( new THREE.Vector2( 10, 0 ) );
            points.push( new THREE.Vector2( 5, 10 ) );
            
            const geom = new THREE.BufferGeometry().setFromPoints( points );
            const material = new THREE.PointsMaterial( { color: "purple" } );
            const pointcloud = new THREE.Points( geom, material );
            scene.add( pointcloud );

            const box = new THREE.BoxHelper( pointcloud, 0xffff00 ); scene.add( box );

            camera.position.z = 25;

            window.addEventListener( 'resize', onWindowResize );

        }

        function onWindowResize() {

            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();

            renderer.setSize( window.innerWidth, window.innerHeight );

        }

        function animate() {

            controls.update(); // only required if controls.enableDamping = true, or if controls.autoRotate = true

            render();

        }

        function render() {

            renderer.render( scene, camera );

        }

    </script>
</body>
</html>
